<app-titulo [titulo]="'Dashboard do Palestrante'" [iconClass]="'fa-solid fa-chart-line'"></app-titulo>

<div class="container mt-5">
  <div class="welcome-message mb-4">
    <h2>Bem-vindo, {{ authService.currentUser?.primeiroNome }}!</h2>
    <p>Aqui está um resumo dos seus eventos.</p>
  </div>

  <div class="row mb-4">
    <div class="col-md-4">
      <div class="summary-card">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="icon-circle bg-primary">
              <i class="fas fa-calendar-alt text-white"></i>
            </div>
            <div class="ms-3">
              <h5 class="card-title">Total de Eventos</h5>
              <p class="card-text">{{ totalEventos }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="summary-card">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="icon-circle bg-success">
              <i class="fas fa-calendar-check text-white"></i>
            </div>
            <div class="ms-3">
              <h5 class="card-title">Próximos Eventos</h5>
              <p class="card-text">{{ eventosProximos }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="summary-card">
        <div class="card-body">
          <div class="d-flex align-items-center">
            <div class="icon-circle bg-danger">
              <i class="fas fa-calendar-times text-white"></i>
            </div>
            <div class="ms-3">
              <h5 class="card-title">Eventos Realizados</h5>
              <p class="card-text">{{ eventosRealizados }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Event Chart -->
  <div class="row mb-4">
    <div class="col-md-12">
      <div class="chart-card">
        <div class="card-body">
          <h5 class="card-title">Proporção de Eventos</h5>
          <div class="chart-container-proportional">
            <div class="bar-proportional bg-success" [style.width.%]="percentEventosProximos">
              <span *ngIf="percentEventosProximos > 0">Próximos: {{ percentEventosProximos | number:'1.0-0' }}%</span>
            </div>
            <div class="bar-proportional bg-danger" [style.width.%]="percentEventosRealizados">
              <span *ngIf="percentEventosRealizados > 0">Realizados: {{ percentEventosRealizados | number:'1.0-0' }}%</span>
            </div>
          </div>
          <div *ngIf="totalEventos === 0" class="text-center mt-3">
            <p>Nenhum evento cadastrado para exibir a proporção.</p>
          </div>
        </div>
      </div>
    </div>
  </div>



<ngx-spinner type="ball-scale-multiple"></ngx-spinner>
